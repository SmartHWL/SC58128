1:更改了状态机部分的代码,添加了关机时缓慢减小过程。
2:修改了开环启动后speed ramp初始化时的一个bug.同时修改初始化后，启动一次后再启动就不能正常启动。看到的现象是闭环启动时速度设定为0.
3:目前这个代码是从开环切到闭环时等，开环角度和闭环角度相差在10度以内开始切。不过从实验看，就是角度符合要求了，要是不给一定的iq初值。当压缩机控制从关闭后马上启动会出现启动失败的情况。
4:修改了状态机的一部分功能。将自举和硬件检测功能分开了。
5:采用外部配置的参数做闭环控制，目前已做过初步的测试。
6:在以前的代码中会出现在高速(0.8Pu)过程中会有速度振荡的现象，查看其BUS线上的电压波动比较大。其原因不知是电机工作不稳定引起BUS电压波动还是BUS电压波动引起电机工作不正常。目前将PLL计算的电压PARK计算的电压参考值从滤波后的电压采样值转化为BUS电压的参考值。
7:将慢保护从主循环修改到慢环中，添加了AD_OFFSET出错的标志
8:修改速度环和iq补偿环路的PI参数，使得该代码能在6hz下能正常工作。
9：修改失速时的保护代码。将连续多次产生失速才认为是要求保护。
10:将低频工作过程中修改pll的PI参数，使之变慢。这样在低速的情况下会更稳定。
11:修改pll中对角度估算部分的一个bug，该bug使得pll不能正常工作。其bug是认为最终输出的theta就是pll输出的theta，实际在开环过程中两个是不同的。
12:修改代码中一些全局变量没有初始化的问题。
13:这个代码是正对目前空调板使用的。该空调板是用我们自己的芯片
14:修改单电阻控制模式，使得PWM模式从上升下降模式修改为上升模式。目前的代码可以跑。对应的硬件要修改为单电阻模式。即将采样电阻从10mΩ修改为20mΩ,对应的采样电路的放大倍速从10倍修改为5倍。另外将相关的IPM过流保护芯片去掉。
15:通过修改速度环的kp,ki实现压缩机高频有波动问题
16:将代码中将Ld,Lq用表格插值法采用正常电感量计算。
